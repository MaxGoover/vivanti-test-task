# vivanti-test-task

В данном репозитории представлено решение тестового задания для компании "Виванти"

<details>
  <summary>Задание</summary>
  <p>Реализовать страницу и функционал комментариев новостей</p>

  <h5>Описание задания:</h5>
  <p>Вам необходимо создать страницу комментариев, которая будет представлять собой упрощенную версию страницы https://esculap-med.ru/MARKUP/build/one-news.html#</p>

  <h5>Требования к реализации:</h5>
  <p>Frontend:</p>
  <span>Необходимо внедрить предоставленную верстку</span><br>
  <span>Блок комментариев должен выводиться с помощью компонентов Vue</span>
  
  <br>
  <p>Backend:</p>
  <span>Используйте Laravel для создания API, которое будет обрабатывать запросы на
добавление и получение комментариев.</span><br>
  <span>Для упрощения задачи, авторизация и регистрация пользователей не требуются. Все комментаторы будут выступать в роли гостей.</span>
  
  <br>
  <p>Упрощения:</p>
  <span>Нет необходимости создавать модели для пользователей и реализовывать
систему авторизации;</span><br>
  <span>Система лайков для комментариев не требуется.</span><br>
</details>

<details>
  <summary>Решение</summary>
  <p>За основу я взял стек Laravel + Jetstream + Inertia + Vue + Tailwind, так как эти технологии указаны в вакансии в разделе "требования". От себя добавил Pinia + i18n + Vuelidate + lodash</p>
</details>

<details>
    <summary>Требования к локальной машине</summary>
    <ul>
        <li>ОС Linux</li>
        <li>php</li>
        <li>composer</li>
        <li>Браузер</li>
    </ul>
</details>

<details>
  <summary>Пошаговая инструкция</summary>
  <ol>
    <li>Склонировать текущий репозиторий</li>
    <li>Открыть в IDE папку с проектом vivanti-test-task</li>
    <li>Открыть терминал</li>
    <li>Создать переменную окружения .env из копии файла .env.example командой:
      <br>
      <code>
        cp .env.example .env
      </code>
    </li>
    <li>Установить зависимости командой:
      <br>
      <code>
        composer install
      </code>
    </li>
    <li>Запустить контейнеры из сборки sail:
      <br>
      <code>
        ./vendor/bin/sail up
      </code>
    </li>
    <li>В другом окне терминала IDE зайти в контейнер с приложением командой:
      <br>
      <code>
        docker compose exec laravel.test bash
      </code>
    </li>
    <li>Запустить миграции командой (находясь внутри контейнера laravel.test):
      <br>
      <code>
        php artisan migrate
      </code>
    </li>
    <li>Запустить сидеры командой (находясь внутри контейнера laravel.test):
      <br>
      <code>
        php artisan migrate
      </code>
    </li>
    <li>Установить зависимости для фронта командой (находясь внутри контейнера laravel.test):
      <br>
      <code>
        npm install
      </code>
    </li>
    <li>Собрать фронт командой (находясь внутри контейнера laravel.test):
      <br>
      <code>
        npm run build
      </code>
    </li>
    <li>Открыть браузер и перейти на вкладку с url: <a href="http://localhost:80/news">http://localhost:80/news</a></li>
    <li>В случае успеха, вы должны увидеть список кликабельных новостей</li>
    <li>"Внутри" новости можно оставлять/подгружать комментарии и новости в секции "Читайте дальше"</li>
  </ol>
</details>

<details>
  <summary>Список необходимых доработок</summary>
  <ol>
    <li>- [X] Вынести все в docker</li>
    <li>- [X] Заменить sqlite на Mysql или подобную СУБД</li>
    <li>- [X] Добавить редактирование/удаление комментария</li>
    <li>- [X] Добавить лоадер при ленивой загрузке комментариев</li>
    <li>- [X] Поправить отступы слева у комментариев</li>
    <li>- [X] Доделать с хлебные крошки</li>
    <li>- [X] Для элементов новостей отдавать только preview контента статьи (т.е. "обрезанный" контент)</li>
    <li>- [ ] Добавить сортировку для комментариев</li>
    <li>- [X] Добавить функционал для кнопки "Ответить" на комментарий</li>
    <li>- [ ] Добавить нормальные настройки линтера, чтобы проставить нормальные отступы, избавиться от ; и тд</li>
    <li>- [X] Отрефакторить обсерверов ленивой загрузки комментариев и новостей</li>
    <li>- [X] Вынести все фразы/слова в словарь i18n</li>
    <li>- [X] Поправить верстку комментария</li>
    <li>- [ ] Написать e2e тесты</li>
    <li>- [ ] Написать feature/unit тесты</li>
    <li>- [ ] Прикрутить CI/CD</li>
  </ol>
</details
